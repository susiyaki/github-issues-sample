(this["webpackJsonpgithub-issue-sample"]=this["webpackJsonpgithub-issue-sample"]||[]).push([[0],{56:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var r=n(5),c=n(1),s=n.n(c),o=n(42),a=n.n(o),i=(n(56),n(82)),u=n(49),l=n(23),j=n(13),b=n(9),d=function(e){return"#"==e.slice(0,1)&&(e=e.slice(1)),3==e.length&&(e=e.slice(0,1)+e.slice(0,1)+e.slice(1,2)+e.slice(1,2)+e.slice(2,3)+e.slice(2,3)),[e.slice(0,2),e.slice(2,4),e.slice(4,6)].map((function(e){return parseInt(e,16)}))},p=function(e){return Math.floor(.298912*e[0]+.586611*e[1]+.114478*e[2])},h=function(e){var t=e.backgroundColor,n=e.content;return Object(r.jsx)(b.f,{bg:t&&"#".concat(t),color:t&&function(e){var t=d(e);return p(t)>120?"#000":"#FFF"}(t),children:n})},f=function(e){var t=e.to,n=e.content,c=e.color,s=e.fontWeight;return Object(r.jsx)(l.b,{to:t,children:Object(r.jsx)(b.h,{color:c||"#000",hoverColor:"#0366d6",underline:!1,fontWeight:s,children:n})})},O=n(22),x=function(e){return"open"===e.state?Object(r.jsx)(O.c,{color:"#22863a"}):Object(r.jsx)(O.b,{color:"#cb2431"})},g="#24292e",m="#586069",v=function(e){var t=e.type,n=e.active,c=e.count,s=e.onClick;return Object(r.jsx)(b.b,{marginRight:"16px",children:Object(r.jsx)(b.h,{onClick:s,backgroundColor:"transparent",hoverColor:g,color:t===n?g:m,style:{cursor:"pointer"},children:Object(r.jsxs)(b.c,{alignItems:"center",children:["open"===t?Object(r.jsx)(O.c,{color:t===n?g:m,size:18}):"closed"===t?Object(r.jsx)(O.a,{color:t===n?g:m,size:18}):Object(r.jsx)(O.d,{color:t===n?g:m,size:18}),"\xa0",c||"?"," ",t.slice(0,1).toUpperCase(),t.slice(1)]})})})},C=n(46),y=n.n(C),P=function(e){return e.isVisible?Object(r.jsx)("div",{style:{width:"100%",height:"auto",bottom:"0px",top:"0px",left:"0px",position:"absolute"},children:Object(r.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",marginLeft:"-10px",marginTop:"-10px"},children:Object(r.jsx)(y.a,{type:"spin",height:20,width:20,color:"#000"})})}):null},I=function(e){var t=e.labels;return 0===t.length?null:Object(r.jsx)(b.g,{children:t.map((function(e){return Object(r.jsx)(h,{backgroundColor:e.color,content:e.name},e.id)}))})},q=n(2),k=n(7),F=function(e){var t=e.perPage,n=e.totalCount,s=Object(k.a)(e,["perPage","totalCount"]),o=Object(c.useMemo)((function(){return Math.ceil(n/t)}),[t,n]);return Object(r.jsx)(b.i,Object(q.a)(Object(q.a)({},s),{},{pageCount:o,marginPageCount:2,surroundingPageCount:2}))},S="/issues",w=function(e){return"/issues/".concat(e)},R=function(e){var t=e.issue;return Object(r.jsx)(b.b,{children:Object(r.jsxs)(b.c,{children:[Object(r.jsx)(b.b,{paddingTop:"8px",paddingLeft:"16px",children:Object(r.jsx)(x,{state:t.state})}),Object(r.jsxs)(b.b,{padding:"8px",children:[Object(r.jsxs)(b.b,{children:[Object(r.jsx)(f,{to:w(t.number),content:t.title,fontWeight:600}),"\xa0",Object(r.jsx)(I,{labels:t.labels})]}),Object(r.jsx)(b.b,{marginTop:"4px",children:Object(r.jsxs)(b.j,{color:"#586069",fontSize:"14px",children:["#",t.number," opened on ",t.created_at," by ",t.user.login]})})]})]})})},T=function(e){var t=e.filter,n=e.openIssuesCount,c=e.closedIssuesCount,s=e.handleChangeFilter;return Object(r.jsx)(b.a,{borderRadius:0,borderBottomWidth:1,borderTopLeftRadius:6,borderTopRightRadius:6,backgroundColor:"#f6f8fa",padding:"16px",margin:"-1px -1px 0",children:Object(r.jsxs)(b.c,{children:[Object(r.jsx)(v,{type:"open",active:t.state,count:n,onClick:function(){return s({state:"open"})}}),Object(r.jsx)(v,{type:"closed",active:t.state,count:c,onClick:function(){return s({state:"closed"})}}),Object(r.jsx)(v,{type:"all",active:t.state,count:(n||0)+(c||0),onClick:function(){return s({state:"all"})}})]})})},_=function(e){var t=e.issues,n=e.filter,c=e.openIssuesCount,s=e.closedIssuesCount,o=e.handleChangeFilter;return Object(r.jsxs)(b.a,{children:[Object(r.jsx)(T,{filter:n,openIssuesCount:c,closedIssuesCount:s,handleChangeFilter:o}),t.map((function(e,n){return Object(r.jsx)(b.a,{borderRadius:0,borderWidth:0,borderBottom:1,borderBottomWidth:t.length-1===n?0:1,children:Object(r.jsx)(R,{issue:e})},e.id)}))]})},z=n(47),L=function(){return Object(r.jsx)(b.d,{backgroundColor:"#24292e",children:Object(r.jsx)(b.d.Item,{children:Object(r.jsx)(l.b,{to:S,children:Object(r.jsxs)(b.c,{alignItems:"center",children:[Object(r.jsx)(z.a,{color:"#ffffff",size:32}),"\xa0",Object(r.jsx)(b.j,{color:"#ffffff",fontSize:16,children:"Github Issues Dummy"})]})})})})},M=n(17),B=n(83),W=function(e){var t=e.owner,n=e.repo,r=e.page,c=e.perPage,s=e.state;return"repos/".concat(t,"/").concat(n,"/issues?page=").concat(r,"&per_page=").concat(c,"&state=").concat(s||"all")},D=function(e){var t=e.owner,n=e.repo,r=e.issueNumStr;return"repos/".concat(t,"/").concat(n,"/issues/").concat(r)},K=n(48),N=n.n(K).a.create({baseURL:"https://api.github.com/"});N.interceptors.request.use((function(e){return e}));var J=function(e){var t=e.queryParams;return N.get(W(t)).then((function(e){return e.data}))},U=function(e){var t=e.queryParams;return N.get(D(t)).then((function(e){return e.data}))},V=function(){return{getIssues:function(e){var t=e.queryParams,n=e.options;return Object(B.a)(Object(q.a)({queryKey:["issues",t.owner,t.repo,t.page,t.perPage,t.state],queryFn:function(){return J({queryParams:t})}},n))},getIssue:function(e){var t=e.queryParams,n=e.options;return Object(B.a)(Object(q.a)({queryKey:["issue",t.owner,t.repo,t.issueNumStr],queryFn:function(){return U({queryParams:t})}},n))}}},E=function(e){var t=e.repo,n=e.state;return"search/issues?q=repo:".concat(t,"+type:issue").concat(n&&"+state:".concat(n))},G=function(e){var t=e.queryParams;return N.get(E(t)).then((function(e){return e.data}))},A=n(50),H="facebook",Q="react",X=function(){var e=V().getIssues,t={searchIssues:function(e){var t=e.queryParams,n=e.options;return Object(B.a)(Object(q.a)({queryKey:["search",t.repo,t.state],queryFn:function(){return G({queryParams:t})}},n))}}.searchIssues,n=Object(c.useState)([]),s=Object(M.a)(n,2),o=s[0],a=s[1],i=Object(c.useState)(1),u=Object(M.a)(i,2),l=u[0],j=u[1],d=Object(c.useState)({state:"open"}),p=Object(M.a)(d,2),h=p[0],f=p[1],O=t({queryParams:{repo:"".concat(H,"/").concat(Q),state:"open"},options:{refetchOnMount:!1}}).data,x=t({queryParams:{repo:"".concat(H,"/").concat(Q),state:"closed"},options:{refetchOnMount:!1}}).data,g=e({queryParams:{owner:H,repo:Q,page:l,perPage:10,state:h.state},options:{onSuccess:function(e){return a(e)}}}).status,m=Object(c.useMemo)((function(){return O&&x?"open"===h.state?O.total_count:"closed"===h.state?x.total_count:O.total_count+x.total_count:1}),[O,x,h.state]),v=Object(c.useCallback)((function(e){var t=e.state;f((function(e){return Object(q.a)(Object(q.a)({},e),{},{state:t})}))}),[]),C=Object(c.useCallback)((function(e,t){e.preventDefault(),j(t)}),[l]);return 0===o.length&&"loading"===g?Object(r.jsx)(P,{isVisible:!0}):Object(r.jsxs)(b.b,{marginLeft:"10%",marginRight:"10%",paddingTop:"16px",children:[Object(r.jsx)(b.e,{fontSize:20,marginBottom:"16px",children:Object(r.jsxs)(b.c,{alignItems:"center",children:[Object(r.jsx)(A.a,{}),"\xa0",H,"/",Q]})}),Object(r.jsx)(_,{issues:o,filter:h,openIssuesCount:null===O||void 0===O?void 0:O.total_count,closedIssuesCount:null===x||void 0===x?void 0:x.total_count,handleChangeFilter:v}),Object(r.jsx)(F,{currentPage:l,perPage:10,totalCount:m,onPageChange:C})]})},Y=function(e){var t=(0,V().getIssue)({queryParams:{owner:"facebook",repo:"react",issueNumStr:e.match.params.number}}),n=t.data;return"loading"===t.status?Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:"loading..."})}):Object(r.jsxs)("div",{children:[Object(r.jsxs)("p",{children:["issue\u756a\u53f7: ",null===n||void 0===n?void 0:n.number]}),Object(r.jsxs)("p",{children:["\u30bf\u30a4\u30c8\u30eb: ",null===n||void 0===n?void 0:n.title]}),Object(r.jsxs)("p",{children:["\u672c\u6587: ",null===n||void 0===n?void 0:n.body]})]})},Z=new i.a,$=function(){return Object(r.jsx)(u.a,{client:Z,children:Object(r.jsxs)(l.a,{children:[Object(r.jsx)(L,{}),Object(r.jsxs)(j.d,{children:[Object(r.jsx)(j.b,{exact:!0,path:"/issues/:number",component:Y}),Object(r.jsx)(j.b,{exact:!0,path:"/issues",component:X}),Object(r.jsx)(j.b,{render:function(){return Object(r.jsx)(j.a,{to:"/issues"})}})]})]})})},ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,84)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),s(e),o(e)}))};a.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)($,{})}),document.getElementById("root")),ee()}},[[80,1,2]]]);
//# sourceMappingURL=main.591f4dbc.chunk.js.map