(this["webpackJsonpgithub-issue-sample"]=this["webpackJsonpgithub-issue-sample"]||[]).push([[0],{58:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var r=n(5),c=n(1),o=n.n(c),s=n(45),a=n.n(s),i=(n(58),n(85)),u=n(52),l=n(21),d=n(13),j=n(6),b=function(e){return"#"==e.slice(0,1)&&(e=e.slice(1)),3==e.length&&(e=e.slice(0,1)+e.slice(0,1)+e.slice(1,2)+e.slice(1,2)+e.slice(2,3)+e.slice(2,3)),[e.slice(0,2),e.slice(2,4),e.slice(4,6)].map((function(e){return parseInt(e,16)}))},p=function(e){return Math.floor(.298912*e[0]+.586611*e[1]+.114478*e[2])},h=n(22),f=n(2);function g(e){return e.substring(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){return Object(f.a)(Object(f.a)({},e),{},Object(h.a)({},t[0],t[1]))}),{})}var x=function(e){var t=e.backgroundColor,n=e.content;return Object(r.jsx)(j.g,{bg:t&&"#".concat(t),color:t&&function(e){var t=b(e);return p(t)>120?"#000":"#FFF"}(t),children:n})},O=function(e){var t=e.to,n=e.onClick,c=e.content,o=e.color,s=e.fontWeight;return t?Object(r.jsx)(l.b,{to:t,children:Object(r.jsx)(j.i,{color:o||"#000",hoverColor:"#0366d6",underline:!1,fontWeight:s,children:c})}):Object(r.jsx)(j.i,{onClick:n,color:o||"#000",hoverColor:"#0366d6",underline:!1,fontWeight:s,style:{cursor:"pointer"},children:c})},m=n(20),v="#28a745",y="#cb2431",C="#ffffff",k=function(e){var t=e.label,n=e.type,c=e.inverted;return t?"open"===n?Object(r.jsx)(j.g,{bg:c?v:C,paddingTop:"5px",paddingBottom:"5px",paddingLeft:"12px",paddingRight:"12px",children:Object(r.jsxs)(j.d,{alignItems:"center",children:[Object(r.jsx)(m.c,{size:16,color:c?C:v}),"\xa0",Object(r.jsx)(j.l,{fontSize:"14px",color:c?C:v,children:"Open"})]})}):Object(r.jsx)(j.g,{bg:c?y:C,paddingTop:"5px",paddingBottom:"5px",paddingLeft:"12px",paddingRight:"12px",children:Object(r.jsxs)(j.d,{alignItems:"center",children:[Object(r.jsx)(m.b,{size:16,color:c?C:y}),"\xa0",Object(r.jsx)(j.l,{fontSize:"14px",color:c?C:y,children:"Closed"})]})}):"open"===n?Object(r.jsx)(m.c,{color:"#22863a"}):Object(r.jsx)(m.b,{color:"#cb2431"})},I="#24292e",w="#586069",P=function(e){var t=e.type,n=e.active,c=e.count,o=e.onClick;return Object(r.jsx)(j.c,{marginRight:"16px",children:Object(r.jsx)(j.i,{onClick:o,backgroundColor:"transparent",hoverColor:I,color:t===n?I:w,style:{cursor:"pointer"},children:Object(r.jsxs)(j.d,{alignItems:"center",children:["open"===t?Object(r.jsx)(m.c,{color:t===n?I:w,size:18}):"closed"===t?Object(r.jsx)(m.a,{color:t===n?I:w,size:18}):Object(r.jsx)(m.d,{color:t===n?I:w,size:18}),"\xa0",c||"?"," ",t.slice(0,1).toUpperCase(),t.slice(1)]})})})},R=n(49),B=n.n(R),q=n(25),S=function(e){var t=e.isVisible;return void 0===t||t?Object(r.jsx)("div",{style:{width:"100%",height:"auto",bottom:"0px",top:"0px",left:"0px",position:"absolute"},children:Object(r.jsxs)("div",{style:{position:"absolute",top:"50%",left:"50%",marginLeft:"-10px",marginTop:"-10px"},children:[Object(r.jsx)(q.a,{size:20}),Object(r.jsx)(B.a,{type:"spin",height:20,width:20,color:"#000"})]})}):null},T=n(50),L=n.n(T),z=(n(65),function(e){var t=e.markdonwText,n=L()(t,{gfm:!0});return Object(r.jsx)(j.c,{className:"markdown-body",dangerouslySetInnerHTML:{__html:n},padding:"15px"})}),F=n(28),W=n.n(F),M=function(e){var t=W()(e),n=W()(),r=n.diff(t,"year");if(r>=1)return 1===r?"last year":"".concat(r," years ago");var c=n.diff(t,"month");if(c>=1)return 1===c?"last month":"".concat(c," months ago");var o=n.diff(t,"day");if(o>=1)return 1===o?"yesterday":"".concat(o," days ago");var s=n.diff(t,"hour");if(s>=1)return 1===s?"1 hour ago":"".concat(s," hours ago");var a=n.diff(t,"minute");if(a>=1)return 1===a?"1 minute ago":"".concat(a," minutes ago");var i=n.diff(t,"second");return i<=10?"now":"".concat(i," seconds ago")},_=function(e){var t=e.date;return Object(r.jsx)(j.n,{"aria-label":W()(t).format("MMM, D, YYYY, h:mm A, Z"),children:M(t)})},E=function(e){var t=e.isVisible;return void 0===t||t?Object(r.jsxs)(j.d,{justifyContent:"center",alignItems:"center",children:[Object(r.jsx)(q.a,{size:56}),Object(r.jsx)(j.l,{children:"An Error Occured. Please try again."})]}):null},Y=n(14),D=function(e){var t=e.name,n=e.value,o=e.mode,s=void 0===o?"dependent":o,a=e.placeholder,i=e.onChange,u=e.onBlur,l=Object(c.useState)(!1),d=Object(Y.a)(l,2),b=d[0],p=d[1],h=Object(c.useState)(n),f=Object(Y.a)(h,2),g=f[0],x=f[1],O=Object(c.useRef)(null);return Object(c.useMemo)((function(){return!!b||("dependent"===s?"string"===typeof n&&0===n.length:"string"===typeof g&&0===g.length)}),[s,b,g,n])?Object(r.jsx)(j.m,{ref:O,onBlur:function(){p(!1),u&&(0!==g.length?u({target:{name:t,value:g}}):(x(n),u({target:{name:t,value:n}})))},name:t,value:"dependent"===s?n:g,placeholder:a,onChange:function(e){!b&&p(!0),"dependent"===s?i&&i(e):x(e.target.value)},onKeyPress:function(e){var t;return"Enter"===e.key&&(null===(t=O.current)||void 0===t?void 0:t.blur())},autoFocus:!0}):Object(r.jsx)(j.l,{onClick:function(){return p(!0)},children:n})},K=function(e){var t=e.labels;return 0===t.length?null:Object(r.jsx)(j.h,{children:t.map((function(e){return Object(r.jsx)(x,{backgroundColor:e.color,content:e.name},e.id)}))})},N=n(8),A=function(e){var t=e.perPage,n=e.totalCount,o=Object(N.a)(e,["perPage","totalCount"]),s=Object(c.useMemo)((function(){return Math.ceil(n/t)}),[t,n]);return Object(r.jsx)(j.j,Object(f.a)(Object(f.a)({},o),{},{pageCount:s,marginPageCount:2,surroundingPageCount:2}))},G=function(e){var t=e.issue,n=e.onClick;return Object(r.jsx)(j.c,{children:Object(r.jsxs)(j.d,{children:[Object(r.jsx)(j.c,{paddingTop:"8px",paddingLeft:"16px",children:Object(r.jsx)(k,{type:t.state})}),Object(r.jsxs)(j.c,{padding:"8px",children:[Object(r.jsxs)(j.c,{children:[Object(r.jsx)(O,{onClick:n,content:t.title,fontWeight:600}),"\xa0",Object(r.jsx)(K,{labels:t.labels})]}),Object(r.jsx)(j.c,{marginTop:"4px",children:Object(r.jsxs)(j.l,{color:"#586069",fontSize:"14px",children:["#",t.number," opened on ",t.created_at," by ",t.user.login]})})]})]})})},J=function(e){var t=e.filter,n=e.openIssuesCount,c=e.closedIssuesCount,o=e.handleChangeFilter;return Object(r.jsx)(j.b,{borderRadius:0,borderBottomWidth:1,borderTopLeftRadius:6,borderTopRightRadius:6,backgroundColor:"#f6f8fa",padding:"16px",margin:"-1px -1px 0",children:Object(r.jsxs)(j.d,{children:[Object(r.jsx)(P,{type:"open",active:t.state,count:n,onClick:function(){return o({state:"open"})}}),Object(r.jsx)(P,{type:"closed",active:t.state,count:c,onClick:function(){return o({state:"closed"})}}),Object(r.jsx)(P,{type:"all",active:t.state,count:(n||0)+(c||0),onClick:function(){return o({state:"all"})}})]})})},U=function(e){var t=e.issues,n=e.handleClickIssueListItem,c=e.filter,o=e.openIssuesCount,s=e.closedIssuesCount,a=e.handleChangeFilter;return Object(r.jsxs)(j.b,{children:[Object(r.jsx)(J,{filter:c,openIssuesCount:o,closedIssuesCount:s,handleChangeFilter:a}),t.map((function(e,c){return Object(r.jsx)(j.b,{borderRadius:0,borderWidth:0,borderBottom:1,borderBottomWidth:t.length-1===c?0:1,children:Object(r.jsx)(G,{issue:e,onClick:function(){return n(e)}})},e.id)}))]})},V="/issues",H=function(e){return"/issues/".concat(e)},Z=function(){return Object(r.jsx)(j.e,{backgroundColor:"#24292e",children:Object(r.jsx)(j.e.Item,{children:Object(r.jsx)(l.b,{to:V,children:Object(r.jsxs)(j.d,{alignItems:"center",children:[Object(r.jsx)(q.a,{color:"#ffffff",size:32}),"\xa0",Object(r.jsx)(j.l,{color:"#ffffff",fontSize:16,children:"Github Issues Dummy"})]})})})})},Q=function(e){var t=e.issue;return Object(r.jsxs)(j.d,{children:[Object(r.jsx)(j.c,{marginRight:"16px",children:Object(r.jsx)(j.a,{src:t.user.avatar_url,width:40,height:40,size:40})}),Object(r.jsxs)(j.c,{flexGrow:1,children:[Object(r.jsx)(j.k,{caret:"left",paddingTop:"8px",paddingBottom:"8px",borderRadius:6,borderBottomLeftRadius:0,borderBottomRightRadius:0,backgroundColor:"#f6f8fa",paddingLeft:"16px",paddingRight:"16px",children:Object(r.jsx)(j.l,{children:t.user.login})}),Object(r.jsx)(j.b,{borderRadius:1,borderTopLeftRadius:0,borderTopRightRadius:0,borderWidth:1,borderTopWidth:0,children:Object(r.jsx)(z,{markdonwText:t.body})})]})]})},X=function(e){var t=e.issue;return Object(r.jsxs)(j.c,{children:[Object(r.jsxs)(j.f,{fontWeight:300,children:[t.title," ",Object(r.jsxs)(j.l,{opacity:.6,children:["#",t.number]})]}),Object(r.jsx)(j.b,{paddingBottom:"8px",marginBottom:"16px",borderRadius:0,borderWidth:0,borderBottomWidth:1,borderBottomColor:"#586069",children:Object(r.jsxs)(j.d,{alignItems:"center",children:[Object(r.jsx)(k,{type:t.state,label:!0,inverted:!0}),"\xa0",Object(r.jsxs)(j.l,{fontSize:14,children:[Object(r.jsx)(j.l,{fontWeight:"bold",children:t.user.login}),"\xa0",Object(r.jsx)(j.l,{children:"opened this issue "}),Object(r.jsx)(_,{date:t.created_at})]})]})})]})},$=n(29),ee=n(86),te=function(e){var t=e.owner,n=e.repo,r=e.page,c=e.perPage,o=e.state;return"repos/".concat(t,"/").concat(n,"/issues?page=").concat(r,"&per_page=").concat(c,"&state=").concat(o||"all")},ne=function(e){var t=e.owner,n=e.repo,r=e.issueNumStr;return"repos/".concat(t,"/").concat(n,"/issues/").concat(r)},re=n(51),ce=n.n(re).a.create({baseURL:"https://api.github.com/"});ce.interceptors.request.use((function(e){return e}));var oe=function(e){var t=e.queryParams;return ce.get(te(t)).then((function(e){return e.data}))},se=function(e){var t=e.queryParams;return ce.get(ne(t)).then((function(e){return e.data}))},ae=function(){return{getIssues:function(e){var t=e.queryParams,n=e.options;return Object(ee.a)(Object(f.a)({queryKey:["issues",t.owner,t.repo,t.page,t.perPage,t.state],queryFn:function(){return oe({queryParams:t})}},n))},getIssue:function(e){var t=e.queryParams,n=e.options;return Object(ee.a)(Object(f.a)({queryKey:["issue",t.owner,t.repo,t.issueNumStr],queryFn:function(){return se({queryParams:t})}},n))}}},ie=function(e){var t=e.repo,n=e.state;return"search/issues?q=repo:".concat(t,"+type:issue").concat(n&&"+state:".concat(n))},ue=function(e){var t=e.queryParams;return ce.get(ie(t)).then((function(e){return e.data}))},le=function(){var e=ae().getIssues,t={searchIssues:function(e){var t=e.queryParams,n=e.options;return Object(ee.a)(Object(f.a)({queryKey:["search",t.repo,t.state],queryFn:function(){return ue({queryParams:t})}},n))}}.searchIssues,n=Object(c.useState)([]),o=Object(Y.a)(n,2),s=o[0],a=o[1],i=Object(c.useState)(1),u=Object(Y.a)(i,2),l=u[0],b=u[1],p=Object(c.useState)({state:"open"}),h=Object(Y.a)(p,2),x=h[0],O=h[1],m=Object(d.h)().search,v=Object(d.g)().push,y=g(m),C=y.owner,k=y.repo;Object(c.useEffect)((function(){C&&k||v({pathname:V,search:"?owner=".concat("facebook","&repo=").concat("react")})}),[]);var I=t({queryParams:{repo:"".concat(C,"/").concat(k),state:"open"},options:{refetchOnMount:!1,retry:0}}).data,w=t({queryParams:{repo:"".concat(C,"/").concat(k),state:"closed"},options:{refetchOnMount:!1,retry:0}}).data,P=e({queryParams:{owner:C,repo:k,page:l,perPage:10,state:x.state},options:{onSuccess:function(e){return a(e)},retry:0}}),R=P.isLoading,B=P.isError,q=Object(c.useMemo)((function(){return I&&w?"open"===x.state?I.total_count:"closed"===x.state?w.total_count:I.total_count+w.total_count:1}),[I,w,x.state]),T=Object(c.useCallback)((function(e){var t=e.state;b(1),O((function(e){return Object(f.a)(Object(f.a)({},e),{},{state:t})}))}),[]),L=Object(c.useCallback)((function(e,t){e.preventDefault(),b(t)}),[l]),z=Object(c.useCallback)((function(e){v({pathname:V,search:"?owner=".concat("owner"===e.target.name?e.target.value:C,"&repo=").concat("repo"===e.target.name?e.target.value:k)})}),[C,k]),F=Object(c.useCallback)((function(e){v({pathname:H(e.number),search:"?owner=".concat(C,"&repo=").concat(k)})}),[C,k]);return Object(r.jsxs)(j.c,{marginLeft:"10%",marginRight:"10%",paddingTop:"16px",marginBottom:"5%",children:[Object(r.jsx)(j.f,{fontSize:20,marginBottom:"16px",children:Object(r.jsxs)(j.d,{alignItems:"center",children:[Object(r.jsxs)(j.c,{marginRight:"16px",children:[Object(r.jsx)($.a,{}),"\xa0",Object(r.jsx)(D,{name:"owner",mode:"standalone",value:C,placeholder:"Owner",onBlur:z}),Object(r.jsx)(j.l,{children:"/"}),Object(r.jsx)(D,{name:"repo",mode:"standalone",value:k,placeholder:"repository",onBlur:z})]}),Object(r.jsx)(j.c,{children:Object(r.jsx)(j.k,{caret:"left",children:Object(r.jsx)(j.l,{fontSize:12,paddingTop:"8px",paddingBottom:"8px",paddingLeft:"16px",paddingRight:"16px",children:"You can change owner and repository."})})})]})}),B?Object(r.jsx)(E,{}):0===s.length&&R?Object(r.jsx)(S,{}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(U,{issues:s,filter:x,openIssuesCount:null===I||void 0===I?void 0:I.total_count,closedIssuesCount:null===w||void 0===w?void 0:w.total_count,handleChangeFilter:T,handleClickIssueListItem:F}),Object(r.jsx)(A,{currentPage:l,perPage:10,totalCount:q,onPageChange:L})]})]})},de=function(){var e=ae().getIssue,t=Object(d.i)().params.number,n=Object(d.h)().search,o=Object(d.g)().push,s=g(n),a=s.owner,i=s.repo;Object(c.useEffect)((function(){a&&i||o(V)}),[a,i]);var u=e({queryParams:{owner:a,repo:i,issueNumStr:t}}),l=u.data,b=u.isLoading,p=u.isError;return b?Object(r.jsx)(S,{}):!l||p?(setTimeout((function(){o({pathname:V,search:"?owner=".concat(a,"&repo=").concat(i)})}),1e3),Object(r.jsx)(E,{})):Object(r.jsxs)(j.c,{marginLeft:"10%",marginRight:"10%",paddingTop:"16px",marginBottom:"5%",children:[Object(r.jsx)(j.f,{fontSize:20,marginBottom:"16px",children:Object(r.jsxs)(j.d,{alignItems:"center",children:[Object(r.jsx)($.a,{}),"\xa0",a,"/",i]})}),Object(r.jsx)(X,{issue:l}),Object(r.jsx)(Q,{issue:l})]})},je=new i.a,be=function(){return Object(r.jsx)(u.a,{client:je,children:Object(r.jsxs)(l.a,{children:[Object(r.jsx)(Z,{}),Object(r.jsxs)(d.d,{children:[Object(r.jsx)(d.b,{exact:!0,path:"/issues/:number",component:de}),Object(r.jsx)(d.b,{exact:!0,path:"/issues",component:le}),Object(r.jsx)(d.b,{render:function(){return Object(r.jsx)(d.a,{to:"/issues"})}})]})]})})},pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,87)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),o(e),s(e)}))};a.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(be,{})}),document.getElementById("root")),pe()}},[[83,1,2]]]);
//# sourceMappingURL=main.bb8b2d80.chunk.js.map